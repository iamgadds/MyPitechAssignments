CREATE TABLE CUSTOMER (
CUSTOMERID NUMERIC(3) NOT NULL PRIMARY KEY,
CUSTOMERNAME VARCHAR(20) NOT NULL
);

CREATE TABLE CATEGORY(
CATEGORYID NUMERIC(3) NOT NULL PRIMARY KEY,
CATEGORYNAME VARCHAR(20) NOT NULL UNIQUE,
DESCRIPTION VARCHAR(20) NULL
)

CREATE TABLE PRODUCT(
PRODUCTID NUMERIC(3) NOT NULL PRIMARY KEY,
PRODUCTNAME VARCHAR(20) NOT NULL,
CATEGORYID NUMERIC(3) NULL REFERENCES CATEGORY(CATEGORYID),
PRICE NUMERIC(10,2) CHECK(PRICE>=50) NULL,
QUANTITY NUMERIC(3) CHECK(QUANTITY > 0),
)

CREATE TABLE ORDERS (
ORDERYEAR NUMERIC(3),
ORDERMONTH VARCHAR(20),
ORDERID VARCHAR(20),
ORDERDATE DATETIME DEFAULT GETDATE(),
PRODUCTID NUMERIC(3) NOT NULL REFERENCES PRODUCT(PRODUCTID),
CUSTOMERID NUMERIC(3) NOT NULL REFERENCES CUSTOMER(CUSTOMERID),
ORDQRY NUMERIC(3) CHECK(ORDQRY>0)
CONSTRAINT PK_ORDER PRIMARY KEY(ORDERYEAR, ORDERMONTH, ORDERID)
)

ALTER TABLE CUSTOMER ADD ADDRESS VARCHAR(20) CHECK(ADDRESS = 'MUMBAI' OR ADDRESS = 'PUNE' OR ADDRESS = 'DELHI');

ALTER TABLE ORDERS DROP CONSTRAINT PK_ORDER

ALTER TABLE ORDERS ALTER COLUMN ORDERYEAR NUMERIC(4);

ALTER TABLE ORDERS ALTER COLUMN ORDERMONTH INT;

ALTER TABLE CATEGORY DROP COLUMN DESCRIPTION;

INSERT INTO CUSTOMER VALUES(1, 'AJAY', 'MUMBAI');
INSERT INTO CUSTOMER VALUES(2, 'CHIRAG', 'DELHI');
INSERT INTO CUSTOMER VALUES(3, 'AMIT', 'PUNE');

INSERT INTO CATEGORY VALUES(1, 'FOOD');
INSERT INTO CATEGORY VALUES(2, 'ELECTRONICS');
INSERT INTO CATEGORY VALUES(3, 'STATIONARY');

SELECT * FROM CATEGORY;

INSERT INTO PRODUCT VALUES(101, 'TEA', 1, 60, 100);
INSERT INTO PRODUCT VALUES(102, 'PEN', 3, 80, 50); 
INSERT INTO PRODUCT VALUES(103, 'NOTE BOOK', 3, 125, 200);
INSERT INTO PRODUCT VALUES(104, 'COFFEE', 1, 80, 100);
INSERT INTO PRODUCT VALUES(105, 'TV', 2, 15000, 5);
INSERT INTO PRODUCT VALUES(106, 'WASHING MACHINE', 2, 12000, 3);

INSERT INTO ORDERS VALUES(2010, 1, 1, DEFAULT, 101, 2, 10);
INSERT INTO ORDERS VALUES(2010, 1, 2, DEFAULT, 104, 1, 2);
INSERT INTO ORDERS VALUES(2010, 2, 1, DEFAULT, 105, 3, 1);
INSERT INTO ORDERS VALUES(2010, 2, 2, DEFAULT, 101, 1, 5);
INSERT INTO ORDERS VALUES(2010, 2, 3, DEFAULT, 106, 2, 1);
INSERT INTO ORDERS VALUES(2011, 1, 1, DEFAULT, 104, 1, 2);

ALTER TABLE ORDERS ALTER COLUMN ORDERYEAR NUMERIC(4) NOT NULL
ALTER TABLE ORDERS ALTER COLUMN ORDERMONTH INT NOT NULL
ALTER TABLE ORDERS ALTER COLUMN ORDERID VARCHAR(20) NOT NULL

ALTER TABLE ORDERS ADD CONSTRAINT PK_ORDER PRIMARY KEY (ORDERYEAR, ORDERMONTH, ORDERID)